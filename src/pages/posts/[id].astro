---
import Layout from '~layouts/Layout.astro';

const { id } = Astro.params;

const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}`);

let post = await res.json();

// The getStaticPaths() is required for static Astro sites.
// If using SSR, you will not need this function.
export async function getStaticPaths() {
	let data = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=10');
	let posts = await data.json();

	return posts.map((post) => ({
		params: { id: post.id },
		props: { post: post },
	}));
}
---

<Layout>
	<div class="l-box">
		<a href="/" style="display: block; margin-bottom: 12px">Back home</a>
		<h1>{post.title}</h1>
		<p>{post.body}</p>
	</div>
</Layout>
